# Create Histogram Counts of Papers per Network Analysis tool

Must link the data to the current directory

```
$ ln -s ../EbotScripts/data20years .
```

Then open RStudio. A default size of figures is used but feel free to resize and get the width and height in inches using par(din). This loops through each tool. 
```
library(ggplot2)
library(svglite)

dimwidth=9.375; #par("din")[1]
dimheight=7.694; #par("din")[2]

tools<-c("neo4j","igraph","cytoscape")
tools<-c("pathway+studio","IPA+Ingenuity+Pathway+Analysis")

for(query_term in tools){

  data<-read.table(paste("data20years/",query_term,"-papers.tsv",sep=""),sep="\t",header=TRUE)
  head(data)
  p<-qplot(data$year,fill=I('royalblue'),binwidth=0.5,xlab="Year of Publication",ylab="Number of papers",
    main=paste("PubMed Articles containing '",query_term,"'; n=",length(data$year),sep=""))+
    scale_x_continuous(breaks=seq(1996,2016,1),limits=c(1995.5,2016.5))+
    theme_bw()+
    geom_text(stat='count',aes(label=..count..),vjust=-0.25)+
    theme(axis.text.x = element_text(angle = 45, hjust = 1))

  if(ggplot_build(p)$panel$ranges[[1]]$y.range[2]<10){
    p<-qplot(data$year,fill=I('royalblue'),binwidth=0.5,xlab="Year of Publication",ylab="Number of papers",
      main=paste("PubMed Articles containing '",query_term,"'; n=",length(data$year),sep=""))+
      scale_x_continuous(breaks=seq(1996,2016,1),limits=c(1995.5,2016.5))+
      scale_y_continuous(limits=c(-0.5,10))+
      theme_bw()+
      geom_text(stat='count',aes(label=..count..),vjust=-0.25)+
      theme(axis.text.x = element_text(angle = 45, hjust = 1))
  }

  ggsave(filename=paste(query_term,"-pubmedcounts.png",sep=""),plot=p,width=dimwidth,height=dimheight,dpi=600)
}

```